---

# 常见问题 (FAQ)

这里收集了在使用 TrollScript 过程中的常见问题与解决方案。

---

### 1. 快捷指令相关

#### **如何在快捷指令中获取脚本运行结果？**

在脚本代码中直接使用 `return` 关键字即可。

* **示例代码**：
```javascript
const result = "Hello from TrollScript!";
return result; // 快捷指令的操作结果将接收到这个字符串

```

* **操作说明**：在 iOS 快捷指令 App 中调用 TrollScript 运行脚本操作后，后续步骤可以直接引用“TrollScript 的运行结果”。

---

### 2. 脚本开发与系统监控

#### **如何查找想要监控的系统文件路径？**

由于 TrollScript 运行在巨魔环境下，拥有极高的权限，你可以通过以下方式定位文件：

* **手动查找**：使用 **Filza File Manager** 浏览系统目录（常见于 `/var/mobile/Library/` 或 `/var/containers/`）。
* **在线搜索**：通过 Google 或 ChatGPT 搜索特定系统功能对应的 plist 或数据库文件路径（例如“iOS 短信数据库路径”或“iOS 通知中心缓存路径”）。
* **工具辅助**：利用 `grep` 或 `find` 指令在终端（或通过脚本执行 `$shell.exec`）进行关键词搜索。

#### **脚本执行报错 `Undefined symbols` 或找不到模块？**

* 请检查脚本是否使用了尚未实现的私有 API。
* 确保你的脚本环境为 **巨魔环境**，部分 API 在非巨魔权限下无法正常工作。

---

### 3. UI 与交互

#### **如何设置悬浮按钮（HUD）？**

* **步骤**：进入 App 的 **触发器 (Triggers)** 页面。
* **配置**：新建触发器，类型选择 **手动触发 (Manual Trigger)**。
* **表现**：设置完成后，屏幕上会出现一个悬浮按钮，点击即可快速执行绑定的脚本（如内存清理、FPS 监控等）。
* 
---

### 4. 网络与安全

#### **脚本请求 HTTPS 接口失败，提示证书过期怎么办？**

* **解决方案**：使用Qx,Surge,Loon等代理软件转发

#### **脚本如何读取本地 RTF 或文本文件？**

你可以直接调用文件模块提供的读取接口。

* **Swift 逻辑参考**：底层已封装相关逻辑，你只需要在 JS 层调用对应的 API 传入路径即可。

---

### 5. 系统兼容性

#### **支持哪些 iOS 版本？**

* **系统要求**：iOS 16.0 及以上版本，暂未测试其他版本。
* **必要条件**：必须通过 **TrollStore** 安装，否则无法获取 Root Daemon 级别的系统权限（如监听系统通知、剪贴板监控等）。

---