{
  "name": "media",
  "description": "音乐媒体控制",
  "icon": "music.note",
  "color": "pink",
  "daemonSupport": "limited",
  "daemonNote": "requestAccess 需要 UI 交互，媒体控制需要预先获得权限且 Audio Session 正确配置",
  "methods": [
    {
      "name": "play",
      "signature": "play()",
      "description": "播放",
      "returns": "void"
    },
    {
      "name": "pause",
      "signature": "pause()",
      "description": "暂停",
      "returns": "void"
    },
    {
      "name": "stop",
      "signature": "stop()",
      "description": "停止",
      "returns": "void"
    },
    {
      "name": "togglePlayPause",
      "signature": "togglePlayPause()",
      "description": "切换播放/暂停",
      "returns": "void"
    },
    {
      "name": "next",
      "signature": "next()",
      "description": "下一首",
      "returns": "void"
    },
    {
      "name": "previous",
      "signature": "previous()",
      "description": "上一首",
      "returns": "void"
    },
    {
      "name": "skipToBeginning",
      "signature": "skipToBeginning()",
      "description": "跳到开头",
      "returns": "void"
    },
    {
      "name": "getPlaybackState",
      "signature": "getPlaybackState()",
      "description": "获取播放状态",
      "returns": "'playing' | 'paused' | 'stopped'",
      "returnsDescription": "播放状态"
    },
    {
      "name": "isPlaying",
      "signature": "isPlaying()",
      "description": "是否正在播放",
      "returns": "boolean",
      "returnsDescription": "是否正在播放"
    },
    {
      "name": "getNowPlaying",
      "signature": "getNowPlaying()",
      "description": "获取当前播放信息",
      "returns": "{ title: string, artist: string, album: string, duration: number, artwork?: string }",
      "returnsDescription": "当前播放信息对象"
    },
    {
      "name": "getVolume",
      "signature": "getVolume()",
      "description": "获取音量",
      "returns": "number",
      "returnsDescription": "当前音量(0.0-1.0)"
    },
    {
      "name": "setVolume",
      "signature": "setVolume(volume)",
      "description": "设置音量",
      "parameters": [
        {
          "name": "volume",
          "type": "number",
          "description": "音量 (0.0 - 1.0)"
        }
      ],
      "returns": "void"
    },
    {
      "name": "getRepeatMode",
      "signature": "getRepeatMode()",
      "description": "获取重复模式",
      "returns": "'none' | 'one' | 'all'",
      "returnsDescription": "重复模式"
    },
    {
      "name": "setRepeatMode",
      "signature": "setRepeatMode(mode)",
      "description": "设置重复模式",
      "parameters": [
        {
          "name": "mode",
          "type": "string",
          "description": "'none' | 'one' | 'all'"
        }
      ],
      "returns": "void"
    },
    {
      "name": "getShuffleMode",
      "signature": "getShuffleMode()",
      "description": "获取随机播放模式",
      "returns": "'off' | 'songs' | 'albums'",
      "returnsDescription": "随机播放模式"
    },
    {
      "name": "setShuffleMode",
      "signature": "setShuffleMode(mode)",
      "description": "设置随机播放模式",
      "parameters": [
        {
          "name": "mode",
          "type": "string",
          "description": "'off' | 'songs' | 'albums'"
        }
      ],
      "returns": "void"
    },
    {
      "name": "getCurrentTime",
      "signature": "getCurrentTime()",
      "description": "获取当前播放时间",
      "returns": "number",
      "returnsDescription": "当前播放时间(秒)"
    },
    {
      "name": "setCurrentTime",
      "signature": "setCurrentTime(time)",
      "description": "设置播放时间",
      "parameters": [
        {
          "name": "time",
          "type": "number",
          "description": "时间 (秒)"
        }
      ],
      "returns": "void"
    },
    {
      "name": "seekForward",
      "signature": "seekForward(seconds?)",
      "description": "快进",
      "parameters": [
        {
          "name": "seconds",
          "type": "number",
          "optional": true,
          "description": "秒数 (默认 15)"
        }
      ],
      "returns": "void"
    },
    {
      "name": "seekBackward",
      "signature": "seekBackward(seconds?)",
      "description": "快退",
      "parameters": [
        {
          "name": "seconds",
          "type": "number",
          "optional": true,
          "description": "秒数 (默认 15)"
        }
      ],
      "returns": "void"
    },
    {
      "name": "requestAccess",
      "signature": "requestAccess()",
      "description": "请求音乐库权限",
      "daemonSupport": "none",
      "returns": "Promise<boolean>",
      "returnsDescription": "是否授权成功"
    },
    {
      "name": "getAccessStatus",
      "signature": "getAccessStatus()",
      "description": "获取权限状态",
      "returns": "Promise<'authorized' | 'denied' | 'notDetermined' | 'restricted'>",
      "returnsDescription": "权限状态"
    },
    {
      "name": "searchSongs",
      "signature": "searchSongs(query)",
      "description": "搜索音乐库",
      "parameters": [
        {
          "name": "query",
          "type": "string",
          "description": "搜索关键词"
        }
      ],
      "returns": "Promise<[{ id: string, title: string, artist: string, album: string }]>",
      "returnsDescription": "歌曲列表数组"
    },
    {
      "name": "playSong",
      "signature": "playSong(persistentID)",
      "description": "播放指定歌曲",
      "parameters": [
        {
          "name": "persistentID",
          "type": "string",
          "description": "歌曲 ID"
        }
      ],
      "returns": "void"
    },
    {
      "name": "getAllSongs",
      "signature": "getAllSongs()",
      "description": "获取所有歌曲",
      "returns": "Promise<[{ id: string, title: string, artist: string, album: string }]>",
      "returnsDescription": "歌曲列表数组"
    },
    {
      "name": "getAlbums",
      "signature": "getAlbums()",
      "description": "获取所有专辑",
      "returns": "Promise<[{ id: string, title: string, artist: string }]>",
      "returnsDescription": "专辑列表数组"
    },
    {
      "name": "getArtists",
      "signature": "getArtists()",
      "description": "获取所有艺术家",
      "returns": "Promise<[{ id: string, name: string }]>",
      "returnsDescription": "艺术家列表数组"
    },
    {
      "name": "getPlaylists",
      "signature": "getPlaylists()",
      "description": "获取播放列表",
      "returns": "Promise<[{ id: string, name: string }]>",
      "returnsDescription": "播放列表数组"
    },
    {
      "name": "playAlbum",
      "signature": "playAlbum(id)",
      "description": "播放专辑",
      "parameters": [
        {
          "name": "id",
          "type": "string",
          "description": "专辑 ID"
        }
      ],
      "returns": "void"
    },
    {
      "name": "playArtist",
      "signature": "playArtist(id)",
      "description": "播放艺术家",
      "parameters": [
        {
          "name": "id",
          "type": "string",
          "description": "艺术家 ID"
        }
      ],
      "returns": "void"
    },
    {
      "name": "playPlaylist",
      "signature": "playPlaylist(id)",
      "description": "播放播放列表",
      "parameters": [
        {
          "name": "id",
          "type": "string",
          "description": "播放列表 ID"
        }
      ],
      "returns": "void",
      "returnsDescription": "无返回值"
    }
  ]
}
